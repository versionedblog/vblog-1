<!DOCTYPE html>
<html>
<head>
    <script src="lib/jquery.min.js"></script>
    <script src="lib/v-common.js"></script>
    <script src="lib/v-dateformat.js"></script>
    <link rel="stylesheet" type="text/css" href="css/v-common.css">
    <link rel="stylesheet" type="text/css" href="css/v-messagelist.css">
    <script>

        $(document).ready(function(){
            $.get("/rest/json/messagelist/all/user/1",function(data,status){
                $('#thetable tr').not(':first').not(':last').remove();
                var html = '';
                if(data.messages) {
                    for(var i = 0; i < data.messages.length; i++)
                        html += '<tr>' +
                                '<td>' +
                                '<a href="message.html?id=' +
                                data.messages[i].id +
                                '">' + data.messages[i].title + '</a>' +
                                '</td>' +
                                '<td>' +
                                data.messages[i].author +
                                '</td>' +
                                '<td>' +
                                new Date(data.messages[i].created).format("dd-mm-yy HH:MM:ss") +
                                '</td>' +
                                '</tr>';
                }
                $('#thetable tr').first().after(html);
            });

});



    </script>
</head>
<body>

<table id="thetable">
    <tr>
        <th>Title</th>
        <th>Author</th>
        <th>Date</th>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
    </tr>
</table>
</body>
</html>


<html>

<head>


</head>

<body>

</body>
</html>

